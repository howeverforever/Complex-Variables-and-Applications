% === Config ===
\let\oldproofname=\proofname
\renewcommand{\proofname}{\color{red}{\rm\bf{\oldproofname}}}
  
\newenvironment{solution}
  {\begin{proof}[\color{red}{$\mathbf{Solution}$}]}
  {\end{proof}}
  
\newenvironment{sketch}
  {\begin{proof}[$\mathbf{Sketch}$]}
  {\end{proof}}

\newenvironment{answer}
  {\begin{proof}[\color{purple}{$\mathbf{Answer}$}]\renewcommand{\qedsymbol}{}}
  {\end{proof}}

\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{\color{blue}{Lemma}}

\pagestyle{fancy}
\fancyhf{}
\rhead{\rightmark}
\rfoot{\thepage}

\renewcommand{\dateseparator}{/}
\renewcommand{\qedsymbol}{$\blacksquare$}

\def\upint{\mathchoice%
    {\mkern13mu\overline{\vphantom{\intop}\mkern7mu}\mkern-20mu}
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}
    {\mkern7mu\overline{\vphantom{\intop}\mkern7mu}\mkern-14mu}
  \int}
\def\lowint{\mkern3mu\underline{\vphantom{\intop}\mkern7mu}\mkern-10mu\int}

\DeclareMathOperator{\ii}{\mathrm{i}}